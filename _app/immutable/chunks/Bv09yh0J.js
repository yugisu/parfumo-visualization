import{l as A,m as q,n as v,E as F,o as H,H as L,q as O,v as Y,w as B,x as S,y as b,z as h,A as N,U as C,B as U,C as p,D as w,b as z,F as M,S as P}from"./BQb1IK--.js";function j(a,t,[r,f]=[0,0]){A&&r===0&&q();var i=a,s=null,c=null,n=C,k=r>0?F:0,u=!1;const D=(e,l=!0)=>{u=!0,I(l,e)},I=(e,l)=>{if(n===(n=e))return;let E=!1;if(A&&f!==-1){if(r===0){const T=H(i);T===L?f=0:T===O?f=1/0:(f=parseInt(T.substring(1)),f!==f&&(f=n?1/0:-1))}const g=f>r;!!n===g&&(i=Y(),B(i),S(!1),E=!0,f=-1)}n?(s?b(s):l&&(s=h(()=>l(i))),c&&N(c,()=>{c=null})):(c?b(c):l&&(c=h(()=>l(i,[r+1,f]))),s&&N(s,()=>{s=null})),E&&S(!0)};v(()=>{u=!1,t(D),u||I(null,null)},k),A&&(i=U)}function R(a,t){return a===t||(a==null?void 0:a[P])===t}function y(a={},t,r,f){return p(()=>{var i,s;return w(()=>{i=s,s=[],z(()=>{a!==r(...s)&&(t(a,...s),i&&R(r(...i),a)&&t(null,...i))})}),()=>{M(()=>{s&&R(r(...s),a)&&t(null,...s)})}}),a}export{y as b,j as i};
